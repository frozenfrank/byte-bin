#!/usr/bin/env bash

# Usage: ./find_trailing_space_dirs.sh [directory]
# Defaults to current directory if none is provided

SEARCH_DIR="${1:-.}"

echo "Reviewing files for easy improvements."
echo "Suggestions are printed. A lack of suggestions indicates no warnings."
echo "Root directory: $SEARCH_DIR"

echo -e "\nLeading spaces:"
find "$SEARCH_DIR" -type d -name ' *' -print0 |
while IFS= read -r -d '' dir; do
    # %q makes trailing spaces visible/escaped
    printf '%q\n' "$dir"
done

echo -e "\nTrailing spaces:"
find "$SEARCH_DIR" -type d -name '* ' -print0 |
while IFS= read -r -d '' dir; do
    # %q makes trailing spaces visible/escaped
    printf '%q\n' "$dir"
done
